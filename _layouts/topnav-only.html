<!DOCTYPE HTML>
<!--
	Editorial by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>{{ page.title | default: "Prof. Carlos Costa" }}</title>

    <!-- CSS do tema -->
    <link rel="stylesheet" href="{{ '/assets/css/fontawesome-all.min.css' | relative_url }}" />
    <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}" />

{% if page.layout_type == 'post' %}
<style>
  /* --- Ajustes de layout e leitura --- */
  #main { width: 100%; margin: 0; }
  #main .inner {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 2rem;
  }

  /* Barra de progresso (laranja) */
  .progress-bar {
    position: sticky;
    top: 0;
    width: 0;
    height: 4px;
    background: linear-gradient(90deg, #f39c12, #e67e22);
    margin: 0 auto 2rem;
    border-radius: 2px;
    z-index: 100;
    transition: width 0.1s ease;
  }

  /* Título do post */
  .post-header {
    text-align: center;
    margin: 3rem 0 2.5rem;
  }
  .post-header h1 {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    font-size: 2.4rem;
    font-weight: 700;
    color: #2c3e50;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  /* Imagens */
  .article-image {
    max-width: 100%;
    max-height: 420px;
    height: auto;
    width: auto;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .article-image:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: 0 12px 32px rgba(0,0,0,0.15);
  }

  /* Imagens flutuantes */
  .image-container {
    margin: 2rem 0;
    text-align: center;
  }
  .image-container.left {
    float: left;
    margin: 1rem 1.5rem 1rem 0;
    text-align: left;
    clear: left;
    max-width: 45%;
  }
  .image-container.right {
    float: right;
    margin: 1rem 0 1rem 1.5rem;
    text-align: right;
    clear: right;
    max-width: 45%;
  }
  .image-container.left img,
  .image-container.right img {
    width: 100%;
    height: auto;
    max-height: 420px;
    object-fit: contain;
    border-radius: 8px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  }
  .image-caption {
    font-style: italic;
    font-size: 0.9rem;
    color: #6c757d;
    margin-top: 0.75rem;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }
  .image-container.left .image-caption,
  .image-container.right .image-caption {
    text-align: center;
    margin-top: 0.5rem;
  }

  /* Animação de entrada */
  .section {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease, transform 0.6s ease;
    margin-bottom: 3rem;
    overflow: hidden;
  }
  .section.visible {
    opacity: 1;
    transform: translateY(0);
  }

  /* Limpeza de floats */
  .section::after { content: ""; display: table; clear: both; }

  /* Evita invasão de texto em imagens flutuantes */
  p, h2, h3, h4, blockquote { overflow: hidden; }

  /* Remove sidebar */
  #sidebar { display: none !important; }

  /* Botão Voltar ao Topo */
  #backToTop {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    border: none;
    background: #3498db;
    color: white;
    font-weight: bold;
    cursor: pointer;
    z-index: 900;
    display: none;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    transition: background 0.3s;
  }
  #backToTop:hover { background: #2980b9; }
</style>
{% endif %}
  </head>
  <body class="is-preload">
    <div id="wrapper">

      <!-- Main -->
      <div id="main">
        <div class="inner">

          <!-- Header (menu do topo) -->
          <header id="header">
            <a href="{{ '/' | relative_url }}" class="logo"><strong>Prof.</strong> Carlos Costa</a>
            <ul class="icons">
              <li>
                <a href="{{ '/blog/' | relative_url }}" class="icon solid fa-blog" title="Blog">
                  <span class="label">Blog</span>
                </a>
              </li>
              <li>
                <a href="https://profcarloscosta-qkq69ff.gamma.site/atividades-traducoes" class="icon solid fa-language" title="Traduções" target="_blank" rel="noopener">
                  <span class="label">Traduções</span>
                </a>
              </li>
              <li>
                <a href="https://historia-da-matematica-9jtis9w.gamma.site/" class="icon solid fa-hourglass-half" title="História" target="_blank" rel="noopener">
                  <span class="label">História</span>
                </a>
              </li>
              <li>
                <a href="#" class="icon solid fa-puzzle-piece" title="Fragmentos">
                  <span class="label">Fragmentos</span>
                </a>
              </li>
            </ul>
          </header>

          <!-- CONTEÚDO DA PÁGINA OU POST -->
          {{ content }}

        </div>
      </div>

      <!-- Sidebar (só em páginas normais) -->
      {% unless page.layout_type == 'post' %}
      <div id="sidebar">
        <div class="inner">
          <section id="search" class="alt">
            <form method="post" action="#">
              <input type="text" name="query" id="query" placeholder="Search" />
            </form>
          </section>
          <nav id="menu">
            <header class="major">
              <h2>Menu</h2>
            </header>
            <ul>
              <li><a href="{{ '/' | relative_url }}">Início</a></li>
              <li><a href="{{ '/blog/' | relative_url }}">Blog</a></li>
              <li><a href="{{ '/sobre/' | relative_url }}">Sobre</a></li>
              <li><a href="{{ '/contato/' | relative_url }}">Contato</a></li>
            </ul>
          </nav>
          <footer id="footer">
            <p class="copyright">&copy; {{ site.time | date: "%Y" }} Prof. Carlos Costa. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
          </footer>
        </div>
      </div>
      {% endunless %}

    </div>

    <!-- Scripts do tema -->
    <script src="{{ '/assets/js/jquery.min.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/browser.min.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/breakpoints.min.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/util.js' | relative_url }}"></script>
    <script src="{{ '/assets/js/main.js' | relative_url }}"></script>
	  {% if page.layout_type == 'post' %}
	<script>
	  // Barra de progresso
	  const progressBar = document.createElement('div');
	  progressBar.className = 'progress-bar';
	  progressBar.id = 'progressBar';
	  document.querySelector('#main .inner').prepend(progressBar);
	
	  window.addEventListener('scroll', () => {
	    const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
	    const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
	    const progress = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
	    document.getElementById('progressBar').style.width = `${Math.min(100, progress)}%`;
	  });
	
	  // Animação de entrada ao rolar
	  const observer = new IntersectionObserver((entries) => {
	    entries.forEach(entry => {
	      if (entry.isIntersecting) {
	        entry.target.classList.add('visible');
	      }
	    });
	  }, { threshold: 0.1 });
	
	  document.querySelectorAll('.section').forEach(section => {
	    observer.observe(section);
	  });
	
	  // Botão "Voltar ao topo"
	  const backToTop = document.createElement('button');
	  backToTop.id = 'backToTop';
	  backToTop.textContent = '↑';
	  backToTop.setAttribute('title', 'Voltar ao topo');
	  document.body.appendChild(backToTop);
	
	  window.addEventListener('scroll', () => {
	    backToTop.style.display = window.scrollY > 600 ? 'block' : 'none';
	  });
	  backToTop.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
	
	  // Lazy loading (garantir que todas as imagens tenham o atributo)
	  document.querySelectorAll('.article-image').forEach(img => {
	    if (!img.hasAttribute('loading')) {
	      img.setAttribute('loading', 'lazy');
	    }
	  });
	</script>
	{% endif %}
  </body>
</html>
